<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header">
</head>
<body class="ember-application">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<div>
	<div th:replace="fragments/nav">

	</div>
	<!--/*@thymesVar id="artist" type="com.myaudiolibrary.web.model.Artist"*/-->
	<div class="container">
		<th:block th:if="${artist.id}">
			<h2>Détail de l'artiste <span th:text="${artist.name}"/></h2>
		</th:block>
		<th:block th:unless="${artist.id}">
			<h2>Création d'un artiste</h2>
		</th:block>

		<form id="artistSave" th:action="@{/thymeleaf/artists}" method="post" class="row">
			<input type="hidden" th:value="${artist.id}" name="id">
			<div class="col-lg-12">
				<div class="form-group">
					<label for="name" class="form-control-label">Nom</label>
					<input type="text" id="name" name="name" class="ember-text-field form-control ember-view" th:value="${artist.name}">


					<label for="performance" class="form-control-label">Albums</label>
					<div class="row">
						<div class="col-lg-10">
							<div class="list-group">
								<!--/*@thymesVar id="album" type="com.myaudiolibrary.web.model.Album"*/-->
								<th:block th:each="album : ${artist.getAlbums()}">
									<li class="list-group-item">&nbsp;<span th:text="${album.title}"/></li>
								</th:block>
							</div>
						</div>
						<div class="col-lg-2 text-center">
							<div class="list-group text-left">
								<th:block th:each="album : ${artist.getAlbums()}">
									<a class="btn-danger list-group-item list-group-item-action" th:href="@{/thymeleaf/artists/{idArtist}/album/delete/{idAlbum}(idArtist=${artist.id}, idAlbum=${album.id})}"><span class="glyphicon glyphicon-remove"></span></a>
								</th:block>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-10">
							<input form="albumSave" name="title" type="text" placeholder="Ajouter un album..." class="form-control ember-text-field ember-view">
						</div>
						<div class="col-lg-2 text-center inner-addon right-addon">
							<button form="albumSave" class="btn-success list-group-item list-group-item-action" type="submit" value="">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
						</div>
					</div>
				</div>
			</div>
		</form>
		<form id="albumSave" th:action="@{/thymeleaf/artists/{idArtist}/album(idArtist=${artist.id})}" method="post"></form>
		<div class="row">
			<input form="artistSave" class="btn btn-primary" type="submit" value="Enregistrer">
			<th:block th:if="${artist.id}">
				<a th:href="@{/thymeleaf/artists/{idArtist}/delete(idArtist=${artist.id})}" class="btn btn-danger">Supprimer</a>
			</th:block>
		</div>
	</div>
</div>
</form>
</div>
</body>
</html>